<div class="row">
  <div class="col-xl-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title mb-0">Add Supplier</h4>
      </div>
      <div class="card-body form-steps">
        <form [formGroup]="supplierForm" (ngSubmit)="onSubmit()">
          <div class="row gy-5">
            <div class="col-lg-9">
              <ng-stepper #cdkStepper [linear]="true" id="vertical-example" class="vertical-wizard">
                <!-- Step 1: Supplier Info -->
                <cdk-step [optional]="false" class="steps nav flex-column custom-nav nav-pills">
                  <ng-template cdkStepLabel>
                    <button class="nav-link" type="button" role="tab">
                      <span class="step-title me-2">
                        <i class="ri-close-circle-fill align-bottom step-icon me-2"></i> Step 1
                      </span>
                      Supplier Info
                    </button>
                  </ng-template>
                  <div class="centered-content ms-4">
                    <div>
                      <h5>Supplier Info</h5>
                      <p class="text-muted">Fill all information below</p>
                    </div>
                    <div>
                      <div class="row g-3">
                        <div class="col-sm-6">
                          <label for="supplierName" class="form-label">Supplier Name</label>
                          <input type="text" class="form-control" id="supplierName" placeholder="Enter Supplier Name" formControlName="name">
                        </div>
                        <div class="col-sm-6">
                          <label for="supplierEmail" class="form-label">Email</label>
                          <input type="email" class="form-control" id="supplierEmail" placeholder="Enter Email" formControlName="email">
                        </div>
                        <div class="col-12">
                          <label for="supplierPhone" class="form-label">Phone</label>
                          <input type="tel" class="form-control" id="supplierPhone" placeholder="Enter Phone" formControlName="phone">
                        </div>
                        <div class="col-12">
                          <label for="supplierAddress" class="form-label">Address</label>
                          <input type="text" class="form-control" id="supplierAddress" placeholder="Enter Address" formControlName="address">
                        </div>
                        <div class="col-12">
                          <label for="supplierType" class="form-label">Type</label>
                          <select class="form-select" id="supplierType" formControlName="type">
                            <option value="">Choose...</option>
                            <option value="societe">Company</option>
                            <option value="contact">Individual</option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex align-items-start gap-3 mt-4">
                      <button type="button" class="btn btn-success btn-label right ms-auto nexttab" cdkStepperNext>
                        <i class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i> Go to Next Step
                      </button>
                    </div>
                  </div>
                </cdk-step>
                <!-- Step 2: Company Details (conditional) -->
                <cdk-step [optional]="true" *ngIf="supplierForm.get('type')?.value === 'societe'">
                  <ng-template cdkStepLabel>
                    <button class="nav-link" type="button" role="tab">
                      <span class="step-title me-2">
                        <i class="ri-close-circle-fill align-bottom step-icon me-2"></i> Step 2
                      </span>
                      Company Details
                    </button>
                  </ng-template>
                  <div class="ms-4" [formGroupName]="'companyDetails'">
                    <h5>Company Details</h5>
                    <p class="text-muted">Fill all information below</p>
                    <div class="row g-3">
                      <div class="col-12">
                        <label for="industry" class="form-label">Industry</label>
                        <input type="text" class="form-control" id="industry" placeholder="Enter Industry" formControlName="industry">
                      </div>
                      <div class="col-12">
                        <label for="registrationNumber" class="form-label">Registration Number</label>
                        <input type="text" class="form-control" id="registrationNumber" placeholder="Enter Registration Number" formControlName="registrationNumber">
                      </div>
                      <div class="col-12">
                        <label for="website" class="form-label">Website</label>
                        <input type="text" class="form-control" id="website" placeholder="Enter Website" formControlName="website">
                      </div>
                    </div>
                    <div class="d-flex align-items-start gap-3 mt-4">
                      <button type="button" class="btn btn-light btn-label previestab" cdkStepperPrevious>
                        <i class="ri-arrow-left-line label-icon align-middle fs-16 me-2"></i> Previous
                      </button>
                      <button type="button" class="btn btn-success btn-label right ms-auto nexttab" cdkStepperNext>
                        <i class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i> Go to Next Step
                      </button>
                    </div>
                  </div>
                </cdk-step>
                <!-- Step 3: Contact Details (conditional) -->
                <cdk-step [optional]="true" *ngIf="supplierForm.get('type')?.value === 'contact'">
                  <ng-template cdkStepLabel>
                    <button class="nav-link" type="button" role="tab">
                      <span class="step-title me-2">
                        <i class="ri-close-circle-fill align-bottom step-icon me-2"></i> Step 3
                      </span>
                      Contact Details
                    </button>
                  </ng-template>
                  <div class="ms-4" [formGroupName]="'contactDetails'">
                    <h5>Contact Details</h5>
                    <p class="text-muted">Fill all information below</p>
                    <div class="row g-3">
                      <div class="col-12">
                        <label for="position" class="form-label">Position</label>
                        <input type="text" class="form-control" id="position" placeholder="Enter Position" formControlName="position">
                      </div>
                      <div class="col-12">
                        <label for="department" class="form-label">Department</label>
                        <input type="text" class="form-control" id="department" placeholder="Enter Department" formControlName="department">
                      </div>
                    </div>
                    <div class="d-flex align-items-start gap-3 mt-4">
                      <button type="button" class="btn btn-light btn-label previestab" cdkStepperPrevious>
                        <i class="ri-arrow-left-line label-icon align-middle fs-16 me-2"></i> Previous
                      </button>
                      <button type="submit" class="btn btn-success btn-label right ms-auto">
                        <i class="ri-check-line label-icon align-middle fs-16 ms-2"></i> Submit
                      </button>
                    </div>
                  </div>
                </cdk-step>
                <!-- Step 4: Contacts (conditional) -->
                <cdk-step [optional]="true" *ngIf="supplierForm.get('type')?.value === 'societe'">
                  <ng-template cdkStepLabel>
                    <button class="nav-link" type="button" role="tab">
                      <span class="step-title me-2">
                        <i class="ri-close-circle-fill align-bottom step-icon me-2"></i> Step 4
                      </span>
                      Contacts
                    </button>
                  </ng-template>
                  <div class="ms-4">
                    <h5>Contacts</h5>
                    <p class="text-muted">Fill all information below</p>
                    <div formArrayName="contacts">
                      <div *ngFor="let contact of contacts.controls; let i = index" [formGroupName]="i" class="row g-3">
                        <div class="col-sm-6">
                          <label for="contactName" class="form-label">Contact Name</label>
                          <input type="text" class="form-control" id="contactName" placeholder="Enter Contact Name" formControlName="name">
                        </div>
                        <div class="col-sm-6">
                          <label for="contactEmail" class="form-label">Email</label>
                          <input type="email" class="form-control" id="contactEmail" placeholder="Enter Email" formControlName="email">
                        </div>
                        <div class="col-12">
                          <label for="contactPhone" class="form-label">Phone</label>
                          <input type="tel" class="form-control" id="contactPhone" placeholder="Enter Phone" formControlName="phone">
                        </div>
                        <div class="col-12">
                          <label for="contactAddress" class="form-label">Address</label>
                          <input type="text" class="form-control" id="contactAddress" placeholder="Enter Address" formControlName="address">
                        </div>
                        <div class="col-12">
                          <label for="contactPosition" class="form-label">Position</label>
                          <input type="text" class="form-control" id="contactPosition" placeholder="Enter Position" formControlName="position">
                        </div>
                        <div class="col-12">
                          <label for="contactDepartment" class="form-label">Department</label>
                          <input type="text" class="form-control" id="contactDepartment" placeholder="Enter Department" formControlName="department">
                        </div>
                        <div class="col-12">
                          <button type="button" class="btn btn-danger" (click)="removeContact(i)">
                            Remove Contact
                          </button>
                        </div>
                      </div>
                    </div>
                    <button type="button" class="btn btn-success mt-3" (click)="addContact()">
                      Add Another Contact
                    </button>
                    <div class="d-flex align-items-start gap-3 mt-4">
                      <button type="button" class="btn btn-light btn-label previestab" cdkStepperPrevious>
                        <i class="ri-arrow-left-line label-icon align-middle fs-16 me-2"></i> Previous
                      </button>
                      <button type="submit" class="btn btn-success btn-label right ms-auto">
                        <i class="ri-check-line label-icon align-middle fs-16 ms-2"></i> Submit
                      </button>
                    </div>
                  </div>
                </cdk-step>
              </ng-stepper>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
